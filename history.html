<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LM search__history</title>
    <meta name="description" content="LM search" />
    <link rel="icon" type="image/ico" href="03_256x256.ico" sizes="256x256">
    <script>
        var jQuery_ = $.noConflict();
        $(function () {
            let dialogH = 0;
            let dialogW = 0;
            let dialogL = 0;
            let dialogT = 0;
            if (over == 1) {
                dialogH = $(document.body).outerHeight(true);
                dialogW = $(document.body).outerWidth(true);
            }
            else {
                switch (showSeat) {
                    case '7':
                        dialogL = 0;
                        dialogT = 0;
                        break;
                    case '8':
                        dialogL = (document.body.clientWidth) / 2;
                        daialogT = 0;
                        break;
                    case '9':
                        dialogL = document.body.clientWidth;
                        dialogT = 0;
                        break;
                    case '4':
                        dialogL = 0;
                        dialogT = (document.body.clientHeight) / 2;
                        break;
                    case '5':
                        dialogL = (document.body.clientWidth) / 2;
                        dialogT = (document.body.clientHeight) / 2;
                        break;
                    case '6':
                        dialogL = document.body.clientWidth;
                        dialogT = (document.body.clientHeight) / 2;
                        break;
                    case '1':
                        dialogL = 0;
                        dialogT = document.body.clientHeight;
                        break;
                    case '2':
                        dialogL = (document.body.clientWidth) / 2;
                        dialogT = document.body.clientHeight;
                        break;
                    case '3':
                        dialogL = document.body.clientWidth;
                        dialogT = document.body.clientHeight;
                        break;
                }
            }

            jQuery_("#dialogDiv").dialog({
                left: dialogL,
                top: dialogT,
                width: dialogW,
                height: dialogH,
                modal: true,
                draggable: false,
                autoOpen: false,
                buttons: {
                    "Ok": function () {
                        jQuery_(this).dialog("close");
                        var ans = $("#Respond").val();
                        console.log(ans);
                        if (ans == 2) {
                            fiveMinutes();
                        }
                    }
                }
            });
        });

    </script>
    <style>
        @import url('https://fonts.googleapis.com/earlyaccess/cwtexyen.css');

        html {
            height: 100%;
        }

        body {
            font-family: 'cwTeXYen';
            font-weight: bold;
            margin: 0;
            padding: 0;
            background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(13, 52, 58, 1)), to(#000000));
            background: -moz-linear-gradient(top, rgba(13, 52, 58, 1) 0%, rgba(0, 0, 0, 1) 100%);
            overflow: hidden;
            position: absolute;
            top: 295px;
            left: 500px;
            /*bottom: 200px;*/
        }

        .flib-card {
            position: absolute;
            top: 100px;
            left: 300px;
            margin: 0;
            padding: 0;
            align-items: center;
            display: flex;
            justify-content: center;
            height: 200px;
            width: 100%;
        }

        .cardbox {
            perspective: 500px;
            margin: 15px;
        }

        .card {
            width: 400px;
            height: 400px;
            background-color: #FFF;
            transform-style: preserve-3d;
            transition: all .5s ease-in-out;
            box-shadow: 0 30px 30px rgba(0, 0, 0, .5);
        }

        .Time {
            background-color: #3b5998;
        }

        .Category {
            background-color: #55acee;
        }

        .Unkown {
            background-color: #dd4b39;
        }

        .card-front,
        .card-back {
            position: absolute;
            top: 40%;
            left: 0%;
            width: 400px;
            height: px;
            color: #FFF;
            backface-visibility: hidden;
        }

        .card-front {
            font-size: 80px;
            justify-content: center;
            align-items: center;
            display: flex;
        }

        .card-back {
            font-size: 80px;
            justify-content: center;
            align-items: center;
            display: flex;
            transform: rotateY(180deg)
        }

        .cardbox:hover .card {
            transform: rotateY(180deg);
            /*旋轉180度*/
        }

        h1 {
            font-family: 'cwTeXYen';
            font-weight: bolder;
            position: fixed;
            bottom: 78%;
            right: 45%;
            text-align: center;
            font-size: 80px;
            background-color: rgb(8, 46, 51);
            opacity: 25%;
            animation: color 5s ease-in-out infinite
        }

        a {
            text-decoration: none;
        }

        @keyframes color {
            0% {
                color: #000;
            }

            20% {
                color: #89a4de;
            }

            40% {
                color: #a889c3;
            }

            60% {
                color: #d6a29b;
            }

            80% {
                color: rgb(231, 204, 166);
            }

            100% {
                color: #000;
            }
        }

        .drop {
            background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(13, 52, 58, 1)), to(rgba(255, 255, 255, 0.6)));
            background: -moz-linear-gradient(top, rgba(13, 52, 58, 1) 0%, rgba(255, 255, 255, .6) 100%);
            width: 1px;
            height: 89px;
            position: absolute;
            bottom: 200px;
            -webkit-animation: fall 0.63s linear infinite;
            -moz-animation: fall 0.63s linear infinite;

        }

        /* animate the drops*/
        @-webkit-keyframes fall {
            to {
                margin-top: 900px;
            }
        }

        @-moz-keyframes fall {
            to {
                margin-top: 900px;
            }
        }

        /*跳通知*/
        div.ui-dialog-titlebar {
            /*改title*/
            background: rgb(209, 61, 12);
            color: rgb(13, 14, 13);
            font-weight: normal;
        }

        .ui-dialog {
            /*改中間*/
            background: rgb(239, 151, 27);
        }

        #dialog h1 {
            /*字*/
            color: rgb(10, 10, 10);
            font-family: fantasy;
            font-size: larger;
        }

        img {
            width: 100px;
            height: 100px;
            float: left;
        }

        #Respond {
            /*下拉選單*/
            background: rgb(241, 203, 11);
            position: absolute;
            right: 10%;
            bottom: 50%;
            float: right;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <link rel="icon" type="image/ico" href="03_256x256.ico" sizes="192x192">
</head>

<body>
    <section id="rain"></section>
    <nav class="history-meau"></nav>
    <h1 class="menuWord"><a id="logol" href="search.html"><span style="color:crimson;">L</span><span
                style="color: rgb(57, 150, 243);">M</span><span style="color: yellow">
                Search</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;歷史紀錄</h1>
    <div class="flib-card">
        <div class="cardbox">
            <div class="card Time">
                <div class="card-front"><i class="Time" aria-hidden="true"></i></div>
                <div class="card-back"><a href="historyTime.html" style="text-decoration:none; color:white">時間</a></div>
            </div>
        </div>
        <div class="cardbox">
            <div class="card Category">
                <div class="card-front"><i class="Category" aria-hidden="true"></i></div>
                <div class="card-back"><a href="historySort.html" style="text-decoration:none; color:white">類別</a></div>
                </a>
            </div>
        </div>
        <div class="cardbox">
            <div class="card Unkown">
                <div class="card-front"><i class="Unkown" aria-hidden="true"></i></div>
                <div class="card-back">尚未開發</div></a>
            </div>
        </div>
    </div>
    <div id="dialog" title="Basic dialog">
        <h1>重要通知!!</h1>
        <select id="Respond">
            <option value="1">我知道了</option>
            <option value="2">5分鐘後再說</option>
        </select>
        <img src="03.png">
    </div>
    <script>
        let userId = sessionStorage.getItem('LM-UserId'),
            keyword = sessionStorage.getItem('LM-keyword'),
            userName = sessionStorage.getItem('LM-UserName'),
            over = sessionStorage.getItem('LM-over'),
            showSeat = sessionStorage.getItem('LM-showSeat'),
            alarm = sessionStorage.getItem('LM-alarm');
        $(document).ready(function () {
            $(".ui-dialog, #Respond").hide();
            StartTime();
            $('.card').hover(function () {
                $(this).addClass('flipped');
            }, function () {
                $(this).removeClass('flipped');
            });
        });
        var nbDrop = 350;

        function randRange(minNum, maxNum) {
            return (Math.floor(Math.random() * (maxNum - minNum + 1)) + minNum);
        }

        function createRain() {
            $(".ui-dialog, #Respond").hide();
            var rainbody = document.getElementById("rain");
            for (i = 1; i < nbDrop; i++) {
                var dropLeft = randRange(0, 2000);
                var dropTop = randRange(-1000, 1400);
                var drop = document.createElement("div");
                drop.setAttribute("class", "drop");
                drop.setAttribute("id", 'drop' + i);
                drop.setAttribute("style", "left: " + dropLeft + "px; top: " + dropTop + "px;");
                rainbody.appendChild(drop);
            }
        }
        function StartTime() {  /*抓取目前時間*/
            let today = new Date();
            let hour = today.getHours();
            let minute = today.getMinutes();
            let second = today.getSeconds();
            minute = CheckTime(minute);
            second = CheckTime(second);
            hour = CheckTime(hour);
            for (let z = 0; z < arr.length; z++) {
                if (hour == arr[z].substring(0, 2) && minute == arr[z].sustring(2, 4) && second == '00') {  /*設定的時間*/
                    $("#dialogDiv").dialog("open");
                    dialogAlarm.innerHTML = arr[z].substr(4);
                }
            }
            setTimeout(StartTime, 1000);
        }
        function CheckTime(i) {  /*時間<10 前面補0*/
            if (i < 10) {
                i = '0' + i;
            }
            return i;
        }
        function fiveMinutes() {
            /*分 = 分 +5 ;*/
            arr[z].sustring(2, 4) = parseInt(arr[z].sustring(2, 4))+5;
            StartTime();
        }
        window.addEventListener("load", createRain, false);
    </script>
</body>

</html>